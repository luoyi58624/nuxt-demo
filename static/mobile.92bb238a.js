import{_ as ba}from"./page.5a5fc289.js";import{r as Q,d as N,i as ha,t as A,a as ya,c as O,w as z,B as Na,b as g,e as Ca,n as Sa,u as Ia,R as Ba}from"./button.54dadf77.js";import{D as $a,O as x,P as Pa,v as Aa,s as h,Q as ka,q as Oa,R as Va,g as V,r as S,l as T,o as d,S as k,T as p,A as D,U as La,H as U,c as I,V as B,b as f,w as G,W as aa,a as j,X as H,Y as C,t as ea,Z as Ta,_ as Ua,$ as za,a0 as Ea,F as wa,d as Ra,h as Fa,a1 as Ma}from"./entry.256eeee3.js";/* empty css                   */function Da(a,n){throw Error("Varlet ["+a+"]: "+n)}function Ga(a){let n=!1;$a(()=>{a(),x(()=>{n=!0})}),Pa(()=>{n&&a()})}function ja(a){const n=[],e=t=>{if(t!=null&&t.component){e(t==null?void 0:t.component.subTree);return}Array.isArray(t==null?void 0:t.children)&&t.children.forEach(o=>{Va(o)&&(n.push(o),e(o))})};return e(a),n}function Ha(a){const n=Oa(),e=Aa([]),t=[],o=h(()=>e.length),r=()=>{const u=ja(n.subTree);e.sort((c,$)=>u.indexOf(c.vnode)-u.indexOf($.vnode))},l=(u,c)=>{e.push(u),t.push(c),r()},s=(u,c)=>{Q(e,u),Q(t,c)};return{length:o,childProviders:t,bindChildren:u=>{ka(a,Object.assign({childInstances:e,collect:l,clear:s},u))}}}var Ya={name:{type:String},size:{type:[Number,String]},color:{type:String},namespace:{type:String,default:"var-icon"},transition:{type:[Number,String],default:0},animationClass:{type:String},onClick:N()};function W(a,n,e,t,o,r,l){try{var s=a[r](l),v=s.value}catch(u){e(u);return}s.done?n(v):Promise.resolve(v).then(t,o)}function _a(a){return function(){var n=this,e=arguments;return new Promise(function(t,o){var r=a.apply(n,e);function l(v){W(r,t,o,l,s,"next",v)}function s(v){W(r,t,o,l,s,"throw",v)}l(void 0)})}}var{n:qa,classes:Ka}=O("icon");function Qa(a,n){return d(),k(La(a.isURL(a.name)?"img":"i"),{class:p(a.classes(a.n(),[a.namespace!==a.n(),a.namespace],a.namespace+"--set",[a.isURL(a.name),a.n("image"),a.namespace+"-"+a.nextName],[a.animateInProgress,a.animationClass==null?a.n("--shrinking"):a.animationClass])),style:D({color:a.color,"transition-duration":a.toNumber(a.transition)+"ms",width:a.isURL(a.name)?a.toSizeUnit(a.size):null,height:a.isURL(a.name)?a.toSizeUnit(a.size):null,fontSize:a.toSizeUnit(a.size)}),src:a.isURL(a.name)?a.nextName:null,onClick:a.onClick},null,8,["class","style","src","onClick"])}var na=V({name:"VarIcon",props:Ya,setup(a){var n=S(""),e=S(!1),t=function(){var o=_a(function*(r,l){var{transition:s}=a;if(l==null||A(s)===0){n.value=r;return}e.value=!0,yield x(),setTimeout(()=>{l!=null&&(n.value=r),e.value=!1},A(s))});return function(l,s){return o.apply(this,arguments)}}();return T(()=>a.name,t,{immediate:!0}),{n:qa,classes:Ka,nextName:n,animateInProgress:e,isURL:ha,toNumber:A,toSizeUnit:ya}}});na.render=Qa;const Y=na;z(Y);function Wa(a){return["default","primary","info","success","warning","danger"].includes(a)}function Xa(a){return["right-top","right-bottom","left-top","left-bottom"].includes(a)}var Za={type:{type:String,default:"default",validator:Wa},position:{type:String,default:"right-top",validator:Xa},hidden:{type:Boolean,default:!1},value:{type:[String,Number],default:0},maxValue:{type:[String,Number]},dot:{type:Boolean,default:!1},icon:{type:String},color:{type:String}},{n:Ja,classes:xa}=O("badge");function ae(a,n){var e=U("var-icon");return d(),I("div",{class:p(a.classes(a.n(),a.n("$--box")))},[B(a.$slots,"default"),f(Ua,{name:a.n("$-badge-fade"),persisted:""},{default:G(()=>[aa(j("span",H({class:a.classes(a.n("content"),a.n("--"+a.type),[a.$slots.default,a.n("--"+a.position)],[a.dot,a.n("--dot")],[a.icon,a.n("--icon")]),style:{background:a.color}},a.$attrs),[a.icon?(d(),k(e,{key:0,class:p(a.n("icon")),"var-badge-cover":"",name:a.icon},null,8,["class","name"])):C("v-if",!0),B(a.$slots,"value",{},()=>[!a.icon&&!a.dot?(d(),I("span",{key:0,class:p(a.n("value"))},ea(a.value),3)):C("v-if",!0)])],16),[[Ta,!a.hidden]])]),_:3},8,["name"])],2)}var ta=V({name:"VarBadge",components:{VarIcon:Y},inheritAttrs:!1,props:Za,setup(a){var n=h(()=>{var{value:e,maxValue:t}=a;return e!=null&&t!=null&&A(e)>A(t)?t+"+":e});return{n:Ja,classes:xa,value:n}}});ta.render=ae;const oa=ta;z(oa);var ee={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:N(),"onUpdate:active":N(),onBeforeChange:N(),onFabClick:N(),fabProps:{type:Object}},ra=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function ne(){var{childProviders:a,length:n,bindChildren:e}=Ha(ra);return{length:n,bottomNavigationItems:a,bindBottomNavigationItem:e}}function M(){return M=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}return a},M.apply(this,arguments)}var{n:te,classes:oe}=O("bottom-navigation"),{n:E}=O("bottom-navigation-item"),X=E("--right-half-space"),Z=E("--left-half-space"),J=E("--right-space"),re={type:"primary"};function ie(a,n){var e=U("var-button");return d(),I("div",{class:p(a.classes(a.n(),a.n("$--box"),[a.fixed,a.n("--fixed")],[a.border,a.n("--border")],[a.safeArea,a.n("--safe-area")])),ref:"bottomNavigationDom",style:D("z-index:"+a.zIndex)},[B(a.$slots,"default"),a.$slots.fab?(d(),k(e,H({key:0,class:a.classes(a.n("fab"),[a.length%2,a.n("--fab-right"),a.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:a.handleFabClick},a.fabProps,{round:""}),{default:G(()=>[B(a.$slots,"fab")]),_:3},16,["class","onClick"])):C("v-if",!0)],6)}var ia=V({name:"VarBottomNavigation",components:{VarButton:Na},props:ee,setup(a,n){var{slots:e}=n,t=S(null),o=h(()=>a.active),r=h(()=>a.activeColor),l=h(()=>a.inactiveColor),s=S({}),{length:v,bottomNavigationItems:u,bindBottomNavigationItem:c}=ne(),$=()=>{v.value===0||w()||y()||L()},w=()=>u.find(i=>{var{name:m}=i;return o.value===m.value}),y=()=>u.find(i=>{var{index:m}=i;return o.value===m.value}),L=()=>{Ca(o.value)&&(o.value<0?g(a["onUpdate:active"],0):o.value>v.value-1&&g(a["onUpdate:active"],v.value-1))},ua=i=>{o.value!==i&&(a.onBeforeChange?ma(i):_(i))},ma=i=>{var m=Sa(g(a.onBeforeChange,i));Promise.all(m).then(b=>{b.every(Boolean)&&_(i)})},_=i=>{g(a["onUpdate:active"],i),g(a.onChange,i)},da=()=>{var i=K();i.forEach(m=>{m.classList.remove(X,Z,J)})},q=i=>{var m=K(),b=m.length,P=i%2===0;m.forEach((R,F)=>{ca(P,R,F,b)})},ca=(i,m,b,P)=>{var R=b===P-1;if(!i&&R){m.classList.add(J);return}var F=b===P/2-1,pa=b===P/2;F?m.classList.add(X):pa&&m.classList.add(Z)},K=()=>Array.from(t.value.querySelectorAll("."+E())),fa=()=>{g(a.onFabClick)},ga={active:o,activeColor:r,inactiveColor:l,onToggle:ua};return c(ga),T(()=>v.value,$),T(()=>a.fabProps,i=>{s.value=M({},re,i)},{immediate:!0,deep:!0}),Ga(()=>{e.fab&&q(v.value)}),za(()=>{da(),e.fab&&q(v.value)}),{n:te,classes:oe,length:v,bottomNavigationDom:t,handleFabClick:fa,fabProps:s}}});ia.render=ie;const sa=ia;z(sa);var se=sa,le={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:N()};function ve(){var{parentProvider:a,index:n,bindParent:e}=Ia(ra);return e||Da("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:n,bottomNavigation:a,bindBottomNavigation:e}}var{n:ue,classes:me}=O("bottom-navigation-item"),de={type:"danger",dot:!0};function ce(a,n){var e=U("var-icon"),t=U("var-badge"),o=Ea("ripple");return aa((d(),I("button",{class:p(a.classes(a.n(),a.n("$--box"),[a.active===a.index||a.active===a.name,a.n("--active")])),style:D({color:a.computeColorStyle()}),onClick:n[0]||(n[0]=function(){return a.handleClick&&a.handleClick(...arguments)})},[a.icon&&!a.$slots.icon?(d(),k(e,{key:0,name:a.icon,namespace:a.namespace,class:p(a.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):C("v-if",!0),B(a.$slots,"icon",{active:a.active===a.index||a.active===a.name}),a.badge?(d(),k(t,H({key:1},a.badgeProps,{class:a.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):C("v-if",!0),j("span",{class:p(a.n("label"))},[a.$slots.default?C("v-if",!0):(d(),I(wa,{key:0},[Ra(ea(a.label),1)],64)),B(a.$slots,"default")],2)],6)),[[o]])}var la=V({name:"VarBottomNavigationItem",components:{VarBadge:oa,VarIcon:Y},directives:{Ripple:Ba},props:le,setup(a){var n=h(()=>a.name),e=h(()=>a.badge),t=S({}),{index:o,bottomNavigation:r,bindBottomNavigation:l}=ve(),{active:s,activeColor:v,inactiveColor:u}=r,c={name:n,index:o},$=()=>s.value===n.value||s.value===o.value?v.value:u.value,w=()=>{var y,L=(y=n.value)!=null?y:o.value;g(a.onClick,L),g(r.onToggle,L)};return l(c),T(()=>e.value,y=>{t.value=y===!0?de:e.value},{immediate:!0}),{n:ue,classes:me,index:o,active:s,badge:e,badgeProps:t,computeColorStyle:$,handleClick:w}}});la.render=ce;const va=la;z(va);var fe=va;const ge={class:"flex-1 container mx-auto p-4"},Ne=V({__name:"mobile",setup(a){const n=S(0);return(e,t)=>{const o=ba,r=fe,l=se;return d(),I("div",null,[j("main",ge,[f(o,{keepalive:!0})]),f(l,{active:Fa(n),"onUpdate:active":t[0]||(t[0]=s=>Ma(n)?n.value=s:null),fixed:"","safe-area":""},{default:G(()=>[f(r,{label:"首页",icon:"home"}),f(r,{label:"分类",icon:"magnify"}),f(r,{label:"购物车",icon:"cart-outline"}),f(r,{label:"消息",icon:"heart"}),f(r,{label:"我的",icon:"account-circle"})]),_:1},8,["active"])])}}});export{Ne as default};
